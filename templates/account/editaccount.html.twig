{% extends 'base.html.twig' %}

{% block title %}Modification du profil{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/registration.css') }}">
{% endblock %}

{% block body %}
<div class="registration-container">
    <h1>Modifier votre profil</h1>

    Afficher les erreurs globales du formulaire
    {% if form.vars.errors|length > 0 %}
        <div class="alert alert-danger">
            Veuillez corriger les erreurs ci-dessous avant de soumettre le formulaire.
        </div>
    {% endif %}

    {# Démarrage du formulaire Symfony #}
    {{ form_start(form) }}
    
    {# Rendu des champs du formulaire avec les erreurs #}
    <div class="form-group">
        {{ form_label(form.nom) }}
        {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.nom) }} {# Affiche les erreurs spécifiques au champ #}
    </div>
    <div class="form-group">
        {{ form_label(form.prenom) }}
        {{ form_widget(form.prenom, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.prenom) }}
    </div>
    <div class="form-group">
        {{ form_label(form.email) }}
        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.email) }}
    </div>
    <div class="form-group">
        {{ form_label(form.adresse) }}
        {{ form_widget(form.adresse, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.adresse) }}
    </div>
    <div class="form-group">
        {{ form_label(form.ville) }}
        {{ form_widget(form.ville, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.ville) }}
    </div>
    <div class="form-group">
        {{ form_label(form.codePostal) }}
        {{ form_widget(form.codePostal, {'attr': {'class': 'form-control'}}) }}
        {{ form_errors(form.codePostal) }}
    </div>

    {# Bouton de soumission du formulaire #}
    <button type="submit" class="btn btn-primary">Mettre à jour</button>

    {# Fin du formulaire #}
    {{ form_end(form) }}
</div>
{% endblock %}
